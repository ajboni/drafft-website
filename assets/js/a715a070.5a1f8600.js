"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8147],{4475:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>p,contentTitle:()=>a,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"troubleshooting/app-armour-issues","title":"AppArmor Issues with AppImage","description":"Troubleshooting and fixing AppArmor profile issues for Drafft AppImage on Linux Ubuntu 24++.","source":"@site/docs/03-troubleshooting/01-app-armour-issues.mdx","sourceDirName":"03-troubleshooting","slug":"/troubleshooting/app-armour-issues","permalink":"/docs/troubleshooting/app-armour-issues","draft":false,"unlisted":false,"editUrl":"https://github.com/ajboni/drafft-website/edit/main/docs/03-troubleshooting/01-app-armour-issues.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"AppArmor Issues with AppImage","description":"Troubleshooting and fixing AppArmor profile issues for Drafft AppImage on Linux Ubuntu 24++."},"sidebar":"tutorialSidebar","previous":{"title":"Troubleshooting","permalink":"/docs/troubleshooting/"},"next":{"title":"Can\'t Delete Old Projects","permalink":"/docs/troubleshooting/cant-delete-old-projects"}}');var s=t(4848),n=t(8453);const i={title:"AppArmor Issues with AppImage",description:"Troubleshooting and fixing AppArmor profile issues for Drafft AppImage on Linux Ubuntu 24++."},a="AppArmor Issues with AppImage",p={},l=[{value:"Steps to Fix AppArmor Issues",id:"steps-to-fix-apparmor-issues",level:2},{value:"Important Notes",id:"important-notes",level:2}];function u(e){const r={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"apparmor-issues-with-appimage",children:"AppArmor Issues with AppImage"})}),"\n",(0,s.jsx)(r.p,{children:"If you are experiencing issues launching Drafft on Linux Ubuntu 24++ due to AppArmor restrictions, follow the steps below to create an AppArmor profile for the Drafft AppImage."}),"\n",(0,s.jsx)(r.h2,{id:"steps-to-fix-apparmor-issues",children:"Steps to Fix AppArmor Issues"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Create an AppArmor Profile"})}),"\n",(0,s.jsx)(r.p,{children:"First, create a new AppArmor profile for Drafft:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"   sudo touch /etc/apparmor.d/drafft-appimage\n"})}),"\n",(0,s.jsxs)(r.ol,{start:"2",children:["\n",(0,s.jsx)(r.li,{children:"Edit the AppArmor Profile"}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["Open the newly created profile file in a text editor and add the following content. Make sure to replace ",(0,s.jsx)(r.code,{children:"/YOUR_OWN_LOCATION/drafft-1.4.5-linux-x86_64.AppImage"})," with the actual path and version of your Drafft AppImage:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"abi <abi/4.0>,\ninclude <tunables/global>\n\nprofile drafft-appimage /YOUR_OWN_LOCATION/drafft-1.4.5-linux-x86_64.AppImage flags=(default_allow) {\n  userns,\n\n  include if exists <local/drafft-appimage>\n}\n"})}),"\n",(0,s.jsxs)(r.ol,{start:"3",children:["\n",(0,s.jsx)(r.li,{children:"Restart AppArmor Service"}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"After saving the profile, restart the AppArmor service to apply the changes:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"sudo systemctl reload apparmor.service\n"})}),"\n",(0,s.jsxs)(r.ol,{start:"4",children:["\n",(0,s.jsx)(r.li,{children:"Update Profile if AppImage Location Changes"}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"If you move your Drafft AppImage to a different location, you do not need to create a new profile. Simply update the file /etc/apparmor.d/drafft-appimage with the new location and restart the AppArmor service:"}),"\n",(0,s.jsx)(r.h2,{id:"important-notes",children:"Important Notes"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Do not disable AppArmor or create rules around it. Creating a proper profile ensures that AppArmor knows how to handle Drafft."}),"\n",(0,s.jsx)(r.li,{children:"This process should be followed for any AppImage to ensure it launches correctly under AppArmor restrictions.\nBy following these steps, you should be able to launch Drafft without any issues related to AppArmor."}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["For more information, refer to the ",(0,s.jsx)(r.a,{href:"https://github.com/electron-userland/electron-builder/issues/8635#issuecomment-2442653122",children:"Electron Builder GitHub issue"}),"."]}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:["Thanks to ",(0,s.jsx)(r.a,{href:"https://itch.io/profile/nanogamelab",children:"Nano Game Lab"})," for providing the solution to this issue."]}),"\n"]})]})}function c(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,r,t)=>{t.d(r,{R:()=>i,x:()=>a});var o=t(6540);const s={},n=o.createContext(s);function i(e){const r=o.useContext(n);return o.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(n.Provider,{value:r},e.children)}}}]);